<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments.html :: head"></head>
<meta charset="UTF-8">
<title>Statistics</title>
    <script src="/node_modules/chart.js/dist/Chart.bundle.min.js"></script>
</head>
<body class = "bg-light">
    <div th:replace="fragments.html :: main-nav"></div>
    
	<div class="container">   
	    <div class="row">    
			<div class="input-group">
				<select class="form-select" id="accountType">
					<option selected>Choose</option>
					<option th:each="accountType : ${accountTypes}" 
							th:value="${accountType}"
							th:text="${accountType.fullName}"></option>
				</select>				
				<input type="text" class="form-control"id="accountId" placeholder="Username" aria-label="Username">
				<button class="btn btn-outline-secondary" type="button">Search</button>
			</div>
		</div>
    		
		<div id="statistics" th:if="${accountInfo}">
			<div id="summery">
				<h1 id="accountName" th:text="${accountInfo.accountName}"></h1>
				<button id="update">update</button>		
			</div>
						
			<div id="chartContainer" class="chart-container" style="position:relative; height:70vh; width:70vw;">
				<canvas id="chart"></canvas>	
			</div>
		</div>
		
		<div class="fragments.html :: footer"></div>	
	</div>
	
	<script type="text/javascript">
	var ctx = document.getElementById('chart');
	var myChart = new Chart(ctx, {
	    type: 'bar',
	    data: {
	        labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
	        datasets: [{
	            label: '# of Votes',
	            data: [12, 19, 3, 5, 2, 3],
	            backgroundColor: [
	                'rgba(255, 99, 132, 0.2)',
	                'rgba(54, 162, 235, 0.2)',
	                'rgba(255, 206, 86, 0.2)',
	                'rgba(75, 192, 192, 0.2)',
	                'rgba(153, 102, 255, 0.2)',
	                'rgba(255, 159, 64, 0.2)'
	            ],
	            borderColor: [
	                'rgba(255, 99, 132, 1)',
	                'rgba(54, 162, 235, 1)',
	                'rgba(255, 206, 86, 1)',
	                'rgba(75, 192, 192, 1)',
	                'rgba(153, 102, 255, 1)',
	                'rgba(255, 159, 64, 1)'
	            ],
	            borderWidth: 1
	        }]
	    },
	    options: {
	        scales: {
	            yAxes: [{
	                ticks: {
	                    beginAtZero: true
	                }
	            }]
	        }
	    }
	});
	</script>
</body>
</html>